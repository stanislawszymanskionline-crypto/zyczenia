<!DOCTYPE html>
<html lang="pl">

  <head>
    <meta charset="UTF-8">
    <title>Popup</title>
    <style>
.cover {
	height: 100%;
	width: 100%;
	position: absolute;
	z-index: 10;
}

.blur-in {
	-webkit-animation: blur 2s forwards;
	-moz-animation: blur 2s forwards;
	-o-animation: blur 2s forwards;
	animation: blur 2s forwards;
}

.blur-out {
	-webkit-animation: blur-out 2s forwards;
	-moz-animation: blur-out 2s forwards;
	-o-animation: blur-out 2s forwards;
	animation: blur-out 2s forwards;
}

.bts-imgreplace {
	display: inline-block;
	overflow: hidden;
	text-indent: 100%;
	color: transparent;
	white-space: nowrap;
}
.bts-popup {
	position: fixed;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;
	background-color: rgba(0, 0, 0, 1);
	opacity: 0;
	visibility: hidden;
	-webkit-transition: opacity 0.3s 0s, visibility 0s 0.3s;
	-moz-transition: opacity 0.3s 0s, visibility 0s 0.3s;
	transition: opacity 0.3s 0s, visibility 0s 0.3s;
}
.bts-popup.is-visible {
	opacity: 1;
	visibility: visible;
	-webkit-transition: opacity 0.3s 0s, visibility 0s 0s;
	-moz-transition: opacity 0.3s 0s, visibility 0s 0s;
	transition: opacity 0.3s 0s, visibility 0s 0s;
}

.bts-popup-block {
	position: fixed;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	min-height: 100%;
	max-width: 100%;
	
	//background-image: url("https://zapodaj.net/images/a572b2e5f3828.png"); 
    background-repeat: no-repeat; 
    background-position: center center;
	
	//border-width: 0.256rem;
	border-color: black;
	border-style: solid;
	text-align: center;
	align-content: center;
	display: block;
	//box-shadow: 0 0 0.125rem rgba(0, 0, 0, 0.7);
	-webkit-transform: translateY(-40px);
	-moz-transform: translateY(-40px);
	-ms-transform: translateY(-40px);
	-o-transform: translateY(-40px);
	transform: translateY(-40px);
	z-index: 5555; /* Specify a stack order in case you're using a different order for other elements */
	cursor: pointer; /* Add a pointer on hover */
	/* Force Hardware Acceleration in WebKit */
	-webkit-backface-visibility: hidden;
	-webkit-transition-property: -webkit-transform;
	-moz-transition-property: -moz-transform;
	transition-property: transform;
	-webkit-transition-duration: 0.3s;
	-moz-transition-duration: 0.3s;
	transition-duration: 0.3s;
}
.bts-popup-block > h1 {
	color: black;
	text-shadow: -0.125rem 0.125rem 0.125rem black;
}
.bts-popup-block > img {
	width: 100%;
	height: 100%;
}
.bts-popup-block > p {
	color: black;
	padding: 0.125rem 40px;
	overflow: hidden;
	text-shadow: -0.125rem 0.125rem 3px black;
}
.bts-popup-block .bts-popup-button {
	padding: 0.5rem 1.5rem;
	border: 0.125rem solid black;
	display: inline-block;
	box-shadow: -0.125rem 0.125rem 3px black;
}

.bts-popup-block a {
	color: black;
	text-decoration: none;
	text-transform: uppercase;
	text-shadow: -0.125rem 0.125rem 3px black;
}

.bts-popup-block .bts-popup-button:hover {
	background-color: #4400ff;
	color: #fff;
	-webkit-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
	-moz-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
	box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
}

.bts-popup-block .bts-popup-close {
	position: absolute;
	top: 8px;
	right: 8px;
	width: 30px;
	height: 30px;
}
.bts-popup-block .bts-popup-close::before,
.bts-popup-block .bts-popup-close::after {
	content: "";
	position: absolute;
	top: 12px;
	width: 16px;
	height: 3px;
	background-color: white;
}
.bts-popup-block .bts-popup-close::before {
	-webkit-transform: rotate(45deg);
	-moz-transform: rotate(45deg);
	-ms-transform: rotate(45deg);
	-o-transform: rotate(45deg);
	transform: rotate(45deg);
	left: 8px;
}
.bts-popup-block .bts-popup-close::after {
	-webkit-transform: rotate(-45deg);
	-moz-transform: rotate(-45deg);
	-ms-transform: rotate(-45deg);
	-o-transform: rotate(-45deg);
	transform: rotate(-45deg);
	right: 6px;
	top: 13px;
}
.is-visible .bts-popup-block {
	-webkit-transform: translateY(0);
	-moz-transform: translateY(0);
	-ms-transform: translateY(0);
	-o-transform: translateY(0);
	transform: translateY(0);
}
@media only screen and (min-width: 1170px) {
	.bts-popup-container {
		margin: 8em auto;
	}
}

/* Cookie warning banner. */
.cookie-banner {
	position: fixed;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;
	opacity: 0;
	visibility: hidden;
	display: none;
	-webkit-transition: opacity 0.3s 0s, visibility 0s 0.3s;
	-moz-transition: opacity 0.3s 0s, visibility 0s 0.3s;
	transition: opacity 0.3s 0s, visibility 0s 0.3s;
}

.cookie-banner .is-visible {
	background: #333333;
	color: #fff;
	font-size: 1em;
	font-family: tahoma, arial, sans-serif;
	line-height: 1.375;
	opacity: 1;
	visibility: visible;
	-webkit-transition: opacity 0.3s 0s, visibility 0s 0s;
	-moz-transition: opacity 0.3s 0s, visibility 0s 0s;
	transition: opacity 0.3s 0s, visibility 0s 0s;
}

.cookie-banner .cb-content {
	position: relative;
	padding: 10px 20px;
	overflow: hidden;

	.cb-container {
		display: inline-block;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
	}
}

.cookie-banner .cb-text {
	float: left;
	width: 60%;

	p {
		display: inline-block;
		width: 92%;
		margin: 0;
	}

	a {
		color: #b44c5c;
		&:hover,
		&:focus {
			color: #fff;
		}
	}
}

.cookie-banner .cb-button {
	float: right;

	.cb-close {
		padding: 0;
		background: none;
		border: none;
		color: #23bcbe;
		font-size: 1.1em;
		font-weight: bold;
		line-height: 44px;
		&:hover,
		&:focus {
			color: #fff;
			cursor: pointer;
		}
	}
}

@-webkit-keyframes blur {
	0% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}

	100% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}
}

@-moz-keyframes blur {
	0% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}

	100% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}
}

@-o-keyframes blur {
	0% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}

	100% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}
}

@keyframes blur {
	0% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}

	100% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}
}

@-webkit-keyframes blur-out {
	0% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}

	100% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}
}

@-moz-keyframes blur-out {
	0% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}

	100% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}
}

@-o-keyframes blur-out {
	0% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}

	100% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}
}

@keyframes blur-out {
	0% {
		-webkit-filter: blur(4px);
		-moz-filter: blur(4px);
		-o-filter: blur(4px);
		-ms-filter: blur(4px);
		filter: blur(4px);
	}

	100% {
		-webkit-filter: blur(0px);
		-moz-filter: blur(0px);
		-o-filter: blur(0px);
		-ms-filter: blur(0px);
		filter: blur(0px);
	}
}	
	
</style>
  </head>
    
  <body>
  <div id="penbody">
	<!-- Popup Begins here -->
	<div class="bts-popup" id="popup" role="alert">
		<div class="col-sm bts-popup-block">
<img style="width: 1000px;" src="https://zapodaj.net/images/a572b2e5f3828.png" />			
			<div class="bts-popup-button">
		
			</div>
			<a href="#" class="bts-popup-close imag-replace"></a>
		</div>
	</div>

	<div id="cookie-banner" class="cookie-banner" role="alert">
		
	</div>
</div>
    <script>
	document.addEventListener("readystatechange", (event) => {
	if (document.readyState === "interactive") {
		console.log("Hinode Module popup is loading...");
		const cname = "hinode-popup";
		const divPopup = document.querySelector("div.bts-popup");
		const divCookie = document.querySelector("div.cookie-banner#cookie-banner");

		const modDebug = document.querySelector("div#debug");
		function logDebug(msg) {
			if (modDebug) {
				console.log(msg);
			}
		}

		logDebug("Ready State Loaded");
		logDebug("ReadyState is interactive.");

		const exceptPopup = document.querySelectorAll("div#penbody > *:not(#popup)");
		function addBlur(exceptPopup) {
			Array.from(exceptPopup).forEach((el) => el.classList.add("blur-in"));
		}

		function removeBlur(exceptPopup) {
			Array.from(exceptPopup).forEach(
				(el) => el.classList.remove("blur-in"),
				(el) => el.classList.add("blur-out")
			);
		}

		function fadeInPopup(divPopup) {
			logDebug("Fade in Popup");
			divPopup.classList.add("fade-in");
		}

		//while rendering in page
		function setCookie(cname, cvalue, exdays) {
			const expdate = new Date();
			expdate.setTime(expdate.getTime() + exdays * 24 * 60 * 60 * 1000);
			let expires = "expires=" + expdate.toUTCString();
			document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
			logDebug("Cookie Set");
		}

		function getCookie(cname) {
			let name = cname + "=";
			let cookie_list = document.cookie.split(";");
			for (let i = 0; i < cookie_list.length; i++) {
				let cookie_item = cookie_list[i];
				while (cookie_item.charAt(0) == " ") {
					cookie_item = cookie_item.substring(1);
				}
				logDebug("Got Cookie value: " + cookie_item);
				if (cookie_item.indexOf(name) == 0) {
					var cookie_value = cookie_item.substring(name.length, cookie_item.length);
					logDebug("Value of cookie is: " + cookie_value);
					if (cookie_value == "") {
						logDebug("Recieved empty value for cookie.");
						return true;
					} else {
						return cookie_value;
					}
				}
			}
			// return "";
			logDebug("Cookie Value returned blank string");
			return true;
		}

		function hidePopup(divPopup, docCookie) {
			logDebug("Hide Popup");
			removeBlur(exceptPopup);
			divPopup.classList.remove("is-visible");
			if (docCookie === true) {
				setCookie(cname, false, 30);
			}
		}

		function dismissPopup(divPopup) {
			logDebug("Dismiss Popup");
			removeBlur(exceptPopup);
			divPopup.classList.remove("is-visible");
		}

		function showPopup(cname, divPopup) {
			//Set Cookie to false
			logDebug("Show Popup.");
			addBlur(exceptPopup);
			fadeInPopup(divPopup);
			setTimeout(() => {
				divPopup.classList.add("is-visible");
			}, 1000);
		}

		function showCkMsg(divCookie) {
			logDebug("Show Cookie Message");
			setTimeout(() => {
				divCookie.classList.add("is-visible");
			}, 1000);
		}

		function hideCkMsg(divCookie) {
			logDebug("Hide Cookie Message");
			divCookie.classList.remove("is-visible");
		}

		function checkCookie() {
			logDebug("Checking for cookies.");
			var cookieEnabled = navigator.cookieEnabled;
			if (!cookieEnabled) {
				logDebug("Cookies not enabled.");
				document.cookie = cname;
				cookieEnabled = document.cookie.indexOf(cname) != -1;
				hidePopup(divPopup);
				showCkMsg(divCookie);
			}
			return cookieEnabled || showCookieFail();
		}

		function showCookieFail() {
			logDebug("Cookie test failed.");
			// do something here
			hidePopup(divPopup);
			showCkMsg(divCookie);
		}

		//Change behavior if reloaded
		//do something.

		// The meat
		var cookieEnabled = checkCookie();
		logDebug("Are cookies enabled? " + cookieEnabled);
		if (cookieEnabled) {
			logDebug("working on popups");
			var docCookie = getCookie(cname);
			logDebug("Cookie Contents: " + docCookie);
			if (docCookie === false) {
				logDebug("cookie is false | hide popup");
				hideCkMsg(divCookie);
				hidePopup(divPopup, docCookie);
			} else if (docCookie === true) {
				logDebug("Cookie is true | show popup");
				showPopup(cname, divPopup);
				hideCkMsg(divCookie);

				//Close on button click
				const popupButton = document.querySelector(".bts-popup-button");
				popupButton.addEventListener("click", function (event) {
					logDebug("Button Clicked");
					hidePopup(divPopup, docCookie);
					event.preventDefault();
				});

				// Close on click
				const popupXClose = document.querySelector(".bts-popup-close");
				popupXClose.addEventListener("click", function (event) {
					logDebug("Close Clicked");
					dismissPopup(divPopup);
					event.preventDefault();
				});

				// Handle Escape Key
				window.addEventListener("keyup", (event) => {
					logDebug("Escape Key pressed on popup");
					if (event.defaultPrevented) {
						return;
					}
					if (event.key === "Escape") {
						dismissPopup(divPopup);
					}
					event.preventDefault();
				});
			}
		} else {
			const ckMsgDismiss = document.querySelector("btn.dismiss");
			ckMsgDismiss.addEventListener("click", () => {
				logDebug("Dismiss Button");
				hideCkMsg(divCookie);
				event.preventDefault();
			});

			window.addEventListener("keyup", (event) => {
				logDebug("Escape Cookie Alert");
				if (event.defaultPrevented) {
					return;
				}
				if (event.key === "Escape") {
					hideCkMsg(divCookie);
				}
				event.preventDefault();
			});
		}
	}
});
	</script>

  </body>
  
</html>
